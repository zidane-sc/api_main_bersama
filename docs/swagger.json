{"openapi":"3.0.0","info":{"title":"API Main Bersama","version":"1.0.0","description":"Documentation of My API Main Bersama for connecting other people"},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer"}}},"paths":{"/api/v1/register":{"post":{"tags":["Authentication"],"summary":"Register Account","description":"Endpoint for register new user","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/User"}},"application/json":{"schema":{"$ref":"#/definitions/User"}}}},"responses":{"200":{"description":"Register success, check your email for verify account"},"422":{"description":"Invalid Request"}}}},"/api/v1/otp-confirmation":{"post":{"tags":["Authentication"],"summary":"Verify Account","description":"Endpoint for verify account","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"required":["email","otp_code"],"type":"object","properties":{"email":{"type":"string","format":"email","example":"mainbersama@gmail.com"},"otp_code":{"type":"string","minLength":6,"example":123456}}}},"application/json":{"schema":{"required":["email","otp_code"],"type":"object","properties":{"email":{"type":"string","format":"email","example":"mainbersama@gmail.com"},"otp_code":{"type":"string","minLength":6,"example":123456}}}}}},"responses":{"200":{"description":"Hooray, Verification Success"},"400":{"description":"OTP code is wrong"}}}},"/api/v1/resend-otp-confirmation":{"post":{"tags":["Authentication"],"summary":"Resend OTP","description":"Endpoint for resend the OTP code","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"required":["email"],"type":"object","properties":{"email":{"type":"string","format":"email","example":"mainbersama@gmail.com"}}}},"application/json":{"schema":{"required":["email"],"type":"object","properties":{"email":{"type":"string","format":"email","example":"mainbersama@gmail.com"}}}}}},"responses":{"200":{"description":"Resend OTP Success, please check email"},"422":{"description":"No need resend otp,You already verified"}}}},"/api/v1/login":{"post":{"tags":["Authentication"],"summary":"Login","description":"Endpoint for login, return token if credential true","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string","format":"email","example":"mainbersama@gmail.com"},"password":{"type":"string","example":"mainbersama123"}}}},"application/json":{"schema":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string","format":"email","example":"mainbersama@gmail.com"},"password":{"type":"string","example":"mainbersama123"}}}}}},"responses":{"200":{"description":"Login Success, the token will be expire in 12 hours"},"400":{"description":"Invalid Email or Password"},"422":{"description":"You have not verified"}}}},"/api/v1/bookings":{"get":{"security":[{"bearerAuth":[]}],"tags":["Booking"],"description":"Endpoint for get all bookings","parameters":[{"in":"query","name":"venue_id","required":false,"schema":{"type":"number"},"description":"venue ID"},{"in":"query","name":"start_date","required":false,"schema":{"type":"string","format":"date"},"description":"star date of booking"},{"in":"query","name":"end_date","required":false,"schema":{"type":"string","format":"date"},"description":"end date of booking"}],"responses":{"200":{"description":"Success get all data bookings"},"400":{"description":"Invalid Request"}}}},"/api/v1/bookings/{id}":{"get":{"security":[{"bearerAuth":[]}],"tags":["Booking"],"description":"Endpoint for get detail booking","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","minimum":1,"example":1},"description":"The Booking ID"}],"responses":{"200":{"description":"Success get detail data booking"},"401":{"description":"Only user can access this route"}}},"put":{"security":[{"bearerAuth":[]}],"tags":["Booking"],"description":"Endpoint for update booking","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","minimum":1,"example":1},"description":"The booking ID"}],"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/definitions/Booking"}},"application/json":{"schema":{"$ref":"#/definitions/Booking"}}}},"responses":{"200":{"description":"Booking updated successfully"},"401":{"description":"Only user can access this route"},"422":{"description":"Only creator who can update the booking"}}},"delete":{"security":[{"bearerAuth":[]}],"tags":["Booking"],"description":"Endpoint for delete booking","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","minimum":1,"example":1},"description":"The booking ID"}],"responses":{"200":{"description":"Booking deleted successfully"},"401":{"description":"Only user can access this route"},"422":{"description":"Only creator who can delete this booking"}}}},"/api/v1/bookings/{id}/join":{"post":{"security":[{"bearerAuth":[]}],"tags":["Booking"],"description":"Endpoint for join booking","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","minimum":1,"example":1},"description":"The Booking ID"}],"responses":{"200":{"description":"Success join booking"},"401":{"description":"Only user can access this route"},"422":{"description":"Failed, player are full"}}}},"/api/v1/bookings/{id}/unjoin":{"post":{"security":[{"bearerAuth":[]}],"tags":["Booking"],"description":"Endpoint for unjoin booking","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","minimum":1,"example":1},"description":"The Booking ID"}],"responses":{"200":{"description":"Success unjoin booking"},"401":{"description":"Only user can access this route"},"422":{"description":"Failed, you haven't joined yet"}}}},"/api/v1/schedules":{"get":{"security":[{"bearerAuth":[]}],"tags":["Booking"],"description":"Endpoint for get schedule user who login","responses":{"200":{"description":"Success Get schedules"},"401":{"description":"Only user can access this route"}}}},"/api/v1/venues":{"get":{"security":[{"bearerAuth":[]}],"tags":["Venue"],"description":"Endpoint for get all venue","parameters":[{"in":"query","name":"type","required":false,"schema":{"type":"string","enum":["soccer","minisoccer","futsal","basketball","volleyball"]},"description":"type of field"}],"responses":{"200":{"description":"Success get all data venues"},"401":{"description":"Only owner can access this route"}}},"post":{"security":[{"bearerAuth":[]}],"tags":["Venue"],"description":"Endpoint for create venue","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/definitions/Venue"}},"application/json":{"schema":{"$ref":"#/definitions/Venue"}}}},"responses":{"200":{"description":"Venue added successfully"},"400":{"description":"Invalid Request"},"401":{"description":"Only owner can access this route"}}}},"/api/v1/venues/{id}":{"get":{"security":[{"bearerAuth":[]}],"tags":["Venue"],"description":"Endpoint for get detail venue","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","minimum":1,"example":1},"description":"The venue ID"}],"responses":{"200":{"description":"Success get detail data venue"},"401":{"description":"Only owner can access this route"}}},"put":{"security":[{"bearerAuth":[]}],"tags":["Venue"],"description":"Endpoint for update venue","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","minimum":1,"example":1},"description":"The venue ID"}],"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/definitions/Venue"}},"application/json":{"schema":{"$ref":"#/definitions/Venue"}}}},"responses":{"200":{"description":"Venue updated successfully"},"401":{"description":"Only owner can access this route"}}},"delete":{"security":[{"bearerAuth":[]}],"tags":["Venue"],"description":"Endpoint for delete venue","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","minimum":1,"example":1},"description":"The venue ID"}],"responses":{"200":{"description":"Venue deleted successfully"},"401":{"description":"Only owner can access this route"}}}},"/api/v1/venues/{id}/bookings":{"post":{"security":[{"bearerAuth":[]}],"tags":["Venue"],"description":"Endpoint for booking field","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","minimum":1,"example":1},"description":"The venue ID"}],"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"required":["play_date_start","play_date_end","min_players","field_id"],"type":"object","properties":{"play_date_start":{"type":"string","format":"date","example":"2021-10-30 15:00:00"},"play_date_end":{"type":"string","format":"date","example":"2021-10-30 16:00:00"},"min_players":{"type":"integer","example":3},"max_players":{"type":"integer","example":11},"field_id":{"type":"integer","example":1}}}},"application/json":{"schema":{"required":["play_date_start","play_date_end","min_players","field_id"],"type":"object","properties":{"play_date_start":{"type":"string","format":"date","example":"2021-10-30 15:00:00"},"play_date_end":{"type":"string","format":"date","example":"2021-10-30 16:00:00"},"min_players":{"type":"integer","example":3},"max_players":{"type":"integer","example":11},"field_id":{"type":"integer","example":1}}}}}},"responses":{"200":{"description":"Success create booking"},"401":{"description":"Only user can access this route"},"422":{"description":"Sorry, the field you requested is not available, try in different hours"}}}},"/api/v1/venues/{venue_id}/fields":{"get":{"security":[{"bearerAuth":[]}],"tags":["Venue"],"description":"Endpoint for get all field by venue id","parameters":[{"in":"path","name":"venue_id","required":true,"schema":{"type":"integer","minimum":1,"example":1},"description":"The venue ID"}],"responses":{"200":{"description":"Success get all data fields by venue_id"},"401":{"description":"Only owner can access this route"}}},"post":{"security":[{"bearerAuth":[]}],"tags":["Venue"],"description":"Endpoint for add field","parameters":[{"in":"path","name":"venue_id","required":true,"schema":{"type":"integer","minimum":1,"example":1},"description":"The venue ID"}],"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/definitions/Field"}},"application/json":{"schema":{"$ref":"#/definitions/Field"}}}},"responses":{"200":{"description":"Field added successfully"},"401":{"description":"Only owner can access this route"}}}},"/api/v1/venues/{venue_id}/fields/{id}":{"get":{"security":[{"bearerAuth":[]}],"tags":["Venue"],"description":"Get detail data field by venue id","parameters":[{"in":"path","name":"venue_id","required":true,"schema":{"type":"integer","minimum":1,"example":1},"description":"The venue ID"},{"in":"path","name":"id","required":true,"schema":{"type":"integer","minimum":1,"example":1},"description":"The field ID"}],"responses":{"200":{"description":"Success get detail data field"},"401":{"description":"Only owner can access this route"}}},"put":{"security":[{"bearerAuth":[]}],"tags":["Venue"],"description":"Endpoint for update data field","parameters":[{"in":"path","name":"venue_id","required":true,"schema":{"type":"integer","minimum":1,"example":1},"description":"The venue ID"},{"in":"path","name":"id","required":true,"schema":{"type":"integer","minimum":1,"example":1},"description":"The field ID"}],"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/definitions/Field"}},"application/json":{"schema":{"$ref":"#/definitions/Field"}}}},"responses":{"200":{"description":"Field updated successfully"},"401":{"description":"Only owner can access this route"}}},"delete":{"security":[{"bearerAuth":[]}],"tags":["Venue"],"description":"Endpoint for delete field","parameters":[{"in":"path","name":"venue_id","required":true,"schema":{"type":"integer","minimum":1,"example":1},"description":"The venue ID"},{"in":"path","name":"id","required":true,"schema":{"type":"integer","minimum":1,"example":1},"description":"The field ID"}],"responses":{"200":{"description":"Field deleted successfully"},"401":{"description":"You do not have necessary permissions for the resource"}}}}},"definitions":{"Booking":{"type":"object","properties":{"play_date_start":{"type":"string","format":"date","example":"2021-10-30 15:00:00"},"play_date_end":{"type":"string","format":"date","example":"2021-10-30 16:00:00"},"min_players":{"type":"integer","example":3},"max_players":{"type":"integer","example":11},"field_id":{"type":"integer","example":1}}},"required":{"0":"play_date_start","1":"play_date_end","2":"min_players","3":"field_id"},"Field":{"type":"object","properties":{"name":{"type":"string","example":"Lapangan Soccer A"},"type":{"type":"string","enum":["soccer","minisoccer","futsal","basketball","volleyball"]}},"required":["name","type"]},"User":{"type":"object","properties":{"name":{"type":"string","minLength":6,"example":"Main Bersama"},"email":{"type":"string","format":"email","example":"mainbersama@gmail.com"},"password":{"type":"string","minLength":6,"example":"mainbersama123"},"role":{"type":"string","enum":["user","owner"]}},"required":["name","email","password","role"]},"Venue":{"type":"object","properties":{"name":{"type":"string","example":"Dariza Sports"},"address":{"type":"string","example":"JL. Cempaka 4 Blok T 28 No. 100"},"phone":{"type":"string","example":"089530107193"}},"required":["name","address","phone"]}},"tags":[]}